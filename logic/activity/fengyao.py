# -*- coding: utf-8 -*-
from activity.object import Activity as customActivity
import activity.object

#导表开始
class Activity(customActivity):

	npcInfo = {
		1001:{"名称":"邪魔","造型":"3009(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$mypos"},
		2001:{"名称":"邪道·人","造型":"1111(1,1,1,1,1)","染色":"0,0,0,0,0","位置":"$pos"},
		2002:{"名称":"邪道·妖","造型":"3009(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$pos"},
		2003:{"名称":"邪道·魔","造型":"4005(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$pos"},
		2004:{"名称":"邪道·鬼","造型":"1221(1,1,1,1,1)","染色":"0,0,0,0,0","位置":"$pos"},
		2005:{"名称":"邪道·佛","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","位置":"$pos"},
		2006:{"名称":"邪道·修罗","造型":"4006(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$pos"},
		2101:{"名称":"宝雀","造型":"3005(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$pos"},
		2201:{"名称":"无血子","造型":"4006(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
		2202:{"名称":"南尤公","造型":"4004(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
		2203:{"名称":"血刀老祖","造型":"4502(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
		2204:{"名称":"大漠老妖","造型":"4005(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
		2205:{"名称":"无血子","造型":"4006(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
		2206:{"名称":"南尤公","造型":"4004(0,1,0,0,0)","染色":"0,0,0,0,0","位置":"$kpos"},
	}

	eventInfo = {
		1001:{"成功":"R1004,TD9003","失败":"TD1013"},
		2001:{"点击":"SB2000","回复":"1:FYB(2011,scene)","成功":"B(2012,scene),TD9003","失败":"TD2006"},
		2002:{"点击":"SB3000","回复":"1:FYB(2021,scene)","成功":"B(2022,scene),TD3007","失败":"TD3006"},
		2003:{"点击":"SB4000","回复":"1:FYB(2031,scene)","成功":"B(2032,scene),TD4006","失败":"TD4005,M4007"},
	}

	rewardInfo = {
		1001:{"物品":[1001]},
		1002:{"经验":lambda LV:LV*300+1500},
		1003:{"银币":lambda LV:LV*200+2000},
		1004:{"经验":lambda LV:LV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500},
		1005:{"物品":[1002]},
		2001:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2002:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2003:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2004:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2005:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2006:{"经验":lambda RLV:RLV*300+1500,"宠物经验":lambda PLV:PLV*100+100,"银币":lambda LV:LV*50+500,"物品":[1011]},
		2101:{"经验":lambda LV:LV*150+750,"宠物经验":lambda PLV:PLV*50+50,"银币":lambda LV:LV*25+250,"物品":[1101]},
		2201:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
		2202:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
		2203:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
		2204:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
		2205:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
		2206:{"经验":lambda LV:LV*1200+6000,"宠物经验":lambda PLV:PLV*400+400,"银币":lambda LV:LV*200+2000,"物品":[1201]},
	}

	rewardPropsInfo = {
		1001:(
			{"权重":1200,"物品":"230101","数量":"1","绑定":0},
			{"权重":1200,"物品":"230102","数量":"1","绑定":0},
			{"权重":30,"物品":"230103","数量":"1","绑定":0},
			{"权重":30,"物品":"234101","数量":"1","绑定":0},
			{"权重":30,"物品":"234102","数量":"1","绑定":0},
			{"权重":30,"物品":"234103","数量":"1","绑定":0},
			{"权重":30,"物品":"234104","数量":"1","绑定":0},
			{"权重":30,"物品":"234105","数量":"1","绑定":0},
			{"权重":30,"物品":"234106","数量":"1","绑定":0},
			{"权重":30,"物品":"234107","数量":"1","绑定":0},
			{"权重":30,"物品":"234108","数量":"1","绑定":0},
			{"权重":30,"物品":"234109","数量":"1","绑定":0},
			{"权重":30,"物品":"234110","数量":"1","绑定":0},
			{"权重":30,"物品":"234111","数量":"1","绑定":0},
			{"权重":30,"物品":"234112","数量":"1","绑定":0},
			{"权重":30,"物品":"234113","数量":"1","绑定":0},
			{"权重":30,"物品":"234114","数量":"1","绑定":0},
			{"权重":30,"物品":"234115","数量":"1","绑定":0},
			{"权重":30,"物品":"234116","数量":"1","绑定":0},
			{"权重":30,"物品":"234117","数量":"1","绑定":0},
			{"权重":30,"物品":"234118","数量":"1","绑定":0},
			{"权重":30,"物品":"234119","数量":"1","绑定":0},
			{"权重":30,"物品":"234120","数量":"1","绑定":0},
			{"权重":30,"物品":"234121","数量":"1","绑定":0},
			{"权重":30,"物品":"234122","数量":"1","绑定":0},
			{"权重":30,"物品":"234123","数量":"1","绑定":0},
			{"权重":30,"物品":"234124","数量":"1","绑定":0},
			{"权重":30,"物品":"234125","数量":"1","绑定":0},
			{"权重":30,"物品":"234126","数量":"1","绑定":0},
			{"权重":30,"物品":"234127","数量":"1","绑定":0},
			{"权重":30,"物品":"234128","数量":"1","绑定":0},
			{"权重":30,"物品":"234129","数量":"1","绑定":0},
			{"权重":30,"物品":"234130","数量":"1","绑定":0},
			{"权重":30,"物品":"234131","数量":"1","绑定":0},
			{"权重":30,"物品":"234132","数量":"1","绑定":0},
			{"权重":30,"物品":"234133","数量":"1","绑定":0},
			{"权重":30,"物品":"234134","数量":"1","绑定":0},
			{"权重":30,"物品":"234135","数量":"1","绑定":0},
			{"权重":30,"物品":"234136","数量":"1","绑定":0},
			{"权重":30,"物品":"234137","数量":"1","绑定":0},
			{"权重":30,"物品":"234138","数量":"1","绑定":0},
			{"权重":30,"物品":"234139","数量":"1","绑定":0},
			{"权重":30,"物品":"234140","数量":"1","绑定":0},
			{"权重":30,"物品":"234141","数量":"1","绑定":0},
			{"权重":30,"物品":"234142","数量":"1","绑定":0},
			{"权重":30,"物品":"234143","数量":"1","绑定":0},
			{"权重":30,"物品":"234144","数量":"1","绑定":0},
			{"权重":30,"物品":"234145","数量":"1","绑定":0},
			{"权重":30,"物品":"234146","数量":"1","绑定":0},
			{"权重":30,"物品":"234147","数量":"1","绑定":0},
			{"权重":30,"物品":"234148","数量":"1","绑定":0},
			{"权重":30,"物品":"234149","数量":"1","绑定":0},
			{"权重":30,"物品":"234150","数量":"1","绑定":0},
			{"权重":30,"物品":"234151","数量":"1","绑定":0},
			{"权重":30,"物品":"234152","数量":"1","绑定":0},
			{"权重":30,"物品":"234153","数量":"1","绑定":0},
			{"权重":30,"物品":"234901","数量":"1","绑定":0},
			{"权重":1000,"物品":"246051","数量":"1","绑定":0},
		),
		1002:(
			{"权重":20,"物品":"202043","数量":"3","绑定":0},
			{"权重":70,"物品":"202044","数量":"1","绑定":0},
			{"权重":70,"物品":"202045","数量":"1","绑定":0},
			{"权重":70,"物品":"202042","数量":"1","绑定":0},
			{"权重":70,"物品":"202049","数量":"1","绑定":0},
			{"权重":100,"物品":"224001","数量":"1","绑定":0},
			{"权重":100,"物品":"224002","数量":"1","绑定":0},
			{"权重":100,"物品":"224003","数量":"1","绑定":0},
			{"权重":100,"物品":"224004","数量":"1","绑定":0},
			{"权重":100,"物品":"224005","数量":"1","绑定":0},
			{"权重":100,"物品":"224006","数量":"1","绑定":0},
			{"权重":100,"物品":"224007","数量":"1","绑定":0},
			{"权重":100,"物品":"224008","数量":"1","绑定":0},
			{"权重":100,"物品":"224009","数量":"1","绑定":0},
			{"权重":100,"物品":"224010","数量":"1","绑定":0},
			{"权重":90,"物品":"224103","数量":"20","绑定":0},
			{"权重":90,"物品":"224104","数量":"20","绑定":0},
			{"权重":90,"物品":"224105","数量":"20","绑定":0},
			{"权重":90,"物品":"224106","数量":"20","绑定":0},
			{"权重":90,"物品":"224107","数量":"20","绑定":0},
			{"权重":100,"物品":"224108","数量":"3","绑定":0},
			{"权重":90,"物品":"225001","数量":"5","绑定":0},
			{"权重":90,"物品":"225002","数量":"5","绑定":0},
			{"权重":90,"物品":"225003","数量":"5","绑定":0},
			{"权重":90,"物品":"225004","数量":"5","绑定":0},
			{"权重":90,"物品":"225005","数量":"5","绑定":0},
			{"权重":90,"物品":"225006","数量":"5","绑定":0},
			{"权重":90,"物品":"225007","数量":"5","绑定":0},
			{"权重":90,"物品":"225008","数量":"5","绑定":0},
			{"权重":90,"物品":"225009","数量":"5","绑定":0},
			{"权重":90,"物品":"225010","数量":"5","绑定":0},
			{"权重":100,"物品":"230001","数量":"1","绑定":0},
			{"权重":10,"物品":"230201","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234201","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234202","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234203","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234204","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234205","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234206","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234207","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234208","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234209","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234210","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234211","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234212","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234213","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234214","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234215","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234216","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234217","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234218","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234219","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234220","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234221","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234222","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234223","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234224","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234225","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234226","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234227","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234228","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234229","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234230","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234231","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234232","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234233","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234234","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234235","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234236","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234237","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234238","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234239","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234240","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234241","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234242","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234243","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234244","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234245","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234246","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234247","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234248","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234249","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234250","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234251","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234252","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":100,"物品":"234253","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":85,"物品":"234401","数量":"1","绑定":0},
			{"权重":85,"物品":"234402","数量":"1","绑定":0},
			{"权重":85,"物品":"234403","数量":"1","绑定":0},
			{"权重":85,"物品":"234404","数量":"1","绑定":0},
			{"权重":85,"物品":"234405","数量":"1","绑定":0},
			{"权重":85,"物品":"234406","数量":"1","绑定":0},
			{"权重":85,"物品":"234407","数量":"1","绑定":0},
			{"权重":85,"物品":"234408","数量":"1","绑定":0},
			{"权重":85,"物品":"234409","数量":"1","绑定":0},
			{"权重":85,"物品":"234410","数量":"1","绑定":0},
			{"权重":85,"物品":"234411","数量":"1","绑定":0},
			{"权重":85,"物品":"234412","数量":"1","绑定":0},
			{"权重":85,"物品":"234413","数量":"1","绑定":0},
			{"权重":85,"物品":"234414","数量":"1","绑定":0},
			{"权重":85,"物品":"234415","数量":"1","绑定":0},
			{"权重":85,"物品":"234416","数量":"1","绑定":0},
			{"权重":85,"物品":"234417","数量":"1","绑定":0},
			{"权重":85,"物品":"234418","数量":"1","绑定":0},
			{"权重":85,"物品":"234419","数量":"1","绑定":0},
			{"权重":85,"物品":"234420","数量":"1","绑定":0},
			{"权重":60,"物品":"234902","数量":"1","绑定":0,"传闻":"RSA6003"},
			{"权重":80,"物品":"234903","数量":"1","绑定":0},
		),
		1011:(
			{"权重":1200,"物品":"230101","数量":"1","绑定":0},
			{"权重":1200,"物品":"230102","数量":"2","绑定":0},
			{"权重":30,"物品":"230103","数量":"1","绑定":0},
			{"权重":30,"物品":"234101","数量":"1","绑定":0},
			{"权重":30,"物品":"234102","数量":"1","绑定":0},
			{"权重":30,"物品":"234103","数量":"1","绑定":0},
			{"权重":30,"物品":"234104","数量":"1","绑定":0},
			{"权重":30,"物品":"234105","数量":"1","绑定":0},
			{"权重":30,"物品":"234106","数量":"1","绑定":0},
			{"权重":30,"物品":"234107","数量":"1","绑定":0},
			{"权重":30,"物品":"234108","数量":"1","绑定":0},
			{"权重":30,"物品":"234109","数量":"1","绑定":0},
			{"权重":30,"物品":"234110","数量":"1","绑定":0},
			{"权重":30,"物品":"234111","数量":"1","绑定":0},
			{"权重":30,"物品":"234112","数量":"1","绑定":0},
			{"权重":30,"物品":"234113","数量":"1","绑定":0},
			{"权重":30,"物品":"234114","数量":"1","绑定":0},
			{"权重":30,"物品":"234115","数量":"1","绑定":0},
			{"权重":30,"物品":"234116","数量":"1","绑定":0},
			{"权重":30,"物品":"234117","数量":"1","绑定":0},
			{"权重":30,"物品":"234118","数量":"1","绑定":0},
			{"权重":30,"物品":"234119","数量":"1","绑定":0},
			{"权重":30,"物品":"234120","数量":"1","绑定":0},
			{"权重":30,"物品":"234121","数量":"1","绑定":0},
			{"权重":30,"物品":"234122","数量":"1","绑定":0},
			{"权重":30,"物品":"234123","数量":"1","绑定":0},
			{"权重":30,"物品":"234124","数量":"1","绑定":0},
			{"权重":30,"物品":"234125","数量":"1","绑定":0},
			{"权重":30,"物品":"234126","数量":"1","绑定":0},
			{"权重":30,"物品":"234127","数量":"1","绑定":0},
			{"权重":30,"物品":"234128","数量":"1","绑定":0},
			{"权重":30,"物品":"234129","数量":"1","绑定":0},
			{"权重":30,"物品":"234130","数量":"1","绑定":0},
			{"权重":30,"物品":"234131","数量":"1","绑定":0},
			{"权重":30,"物品":"234132","数量":"1","绑定":0},
			{"权重":30,"物品":"234133","数量":"1","绑定":0},
			{"权重":30,"物品":"234134","数量":"1","绑定":0},
			{"权重":30,"物品":"234135","数量":"1","绑定":0},
			{"权重":30,"物品":"234136","数量":"1","绑定":0},
			{"权重":30,"物品":"234137","数量":"1","绑定":0},
			{"权重":30,"物品":"234138","数量":"1","绑定":0},
			{"权重":30,"物品":"234139","数量":"1","绑定":0},
			{"权重":30,"物品":"234140","数量":"1","绑定":0},
			{"权重":30,"物品":"234141","数量":"1","绑定":0},
			{"权重":30,"物品":"234142","数量":"1","绑定":0},
			{"权重":30,"物品":"234143","数量":"1","绑定":0},
			{"权重":30,"物品":"234144","数量":"1","绑定":0},
			{"权重":30,"物品":"234145","数量":"1","绑定":0},
			{"权重":30,"物品":"234146","数量":"1","绑定":0},
			{"权重":30,"物品":"234147","数量":"1","绑定":0},
			{"权重":30,"物品":"234148","数量":"1","绑定":0},
			{"权重":30,"物品":"234149","数量":"1","绑定":0},
			{"权重":30,"物品":"234150","数量":"1","绑定":0},
			{"权重":30,"物品":"234151","数量":"1","绑定":0},
			{"权重":30,"物品":"234152","数量":"1","绑定":0},
			{"权重":30,"物品":"234153","数量":"1","绑定":0},
			{"权重":30,"物品":"234901","数量":"1","绑定":0},
			{"权重":1000,"物品":"246051","数量":"1","绑定":0},
			{"权重":21000,"物品":"0","数量":"0","绑定":0},
		),
		1101:(
			{"权重":20,"物品":"202043","数量":"2","绑定":0},
			{"权重":20,"物品":"202044","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":20,"物品":"202045","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":20,"物品":"202042","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":20,"物品":"202049","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224001","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224002","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224003","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224004","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224005","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224006","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224007","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224008","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224009","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"224010","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":500,"物品":"224103","数量":"5","绑定":0},
			{"权重":500,"物品":"224104","数量":"5","绑定":0},
			{"权重":500,"物品":"224105","数量":"5","绑定":0},
			{"权重":500,"物品":"224106","数量":"5","绑定":0},
			{"权重":500,"物品":"224107","数量":"5","绑定":0},
			{"权重":500,"物品":"224108","数量":"1","绑定":0},
			{"权重":500,"物品":"225001","数量":"1","绑定":0},
			{"权重":500,"物品":"225002","数量":"1","绑定":0},
			{"权重":500,"物品":"225003","数量":"1","绑定":0},
			{"权重":500,"物品":"225004","数量":"1","绑定":0},
			{"权重":500,"物品":"225005","数量":"1","绑定":0},
			{"权重":500,"物品":"225006","数量":"1","绑定":0},
			{"权重":500,"物品":"225007","数量":"1","绑定":0},
			{"权重":500,"物品":"225008","数量":"1","绑定":0},
			{"权重":500,"物品":"225009","数量":"1","绑定":0},
			{"权重":500,"物品":"225010","数量":"1","绑定":0},
			{"权重":50,"物品":"230001","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234401","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234402","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234403","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234404","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234405","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234406","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234407","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234408","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234409","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234410","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234411","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234412","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234413","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234414","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234415","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234416","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234417","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234418","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234419","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234420","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":1,"物品":"234902","数量":"1","绑定":0,"传闻":"RSA6002"},
			{"权重":10,"物品":"234903","数量":"1","绑定":0,"传闻":"RSA6002"},
		),
		1201:(
			{"权重":20,"物品":"202043","数量":"1","绑定":0},
			{"权重":60,"物品":"202044","数量":"1","绑定":0},
			{"权重":60,"物品":"202045","数量":"1","绑定":0},
			{"权重":60,"物品":"202042","数量":"1","绑定":0},
			{"权重":60,"物品":"202049","数量":"1","绑定":0},
			{"权重":60,"物品":"224001","数量":"1","绑定":0},
			{"权重":60,"物品":"224002","数量":"1","绑定":0},
			{"权重":60,"物品":"224003","数量":"1","绑定":0},
			{"权重":60,"物品":"224004","数量":"1","绑定":0},
			{"权重":60,"物品":"224005","数量":"1","绑定":0},
			{"权重":60,"物品":"224006","数量":"1","绑定":0},
			{"权重":60,"物品":"224007","数量":"1","绑定":0},
			{"权重":60,"物品":"224008","数量":"1","绑定":0},
			{"权重":60,"物品":"224009","数量":"1","绑定":0},
			{"权重":60,"物品":"224010","数量":"1","绑定":0},
			{"权重":300,"物品":"224103","数量":"5","绑定":0},
			{"权重":300,"物品":"224104","数量":"5","绑定":0},
			{"权重":300,"物品":"224105","数量":"5","绑定":0},
			{"权重":300,"物品":"224106","数量":"5","绑定":0},
			{"权重":300,"物品":"224107","数量":"5","绑定":0},
			{"权重":300,"物品":"224108","数量":"1","绑定":0},
			{"权重":300,"物品":"225001","数量":"1","绑定":0},
			{"权重":300,"物品":"225002","数量":"1","绑定":0},
			{"权重":300,"物品":"225003","数量":"1","绑定":0},
			{"权重":300,"物品":"225004","数量":"1","绑定":0},
			{"权重":300,"物品":"225005","数量":"1","绑定":0},
			{"权重":300,"物品":"225006","数量":"1","绑定":0},
			{"权重":300,"物品":"225007","数量":"1","绑定":0},
			{"权重":300,"物品":"225008","数量":"1","绑定":0},
			{"权重":300,"物品":"225009","数量":"1","绑定":0},
			{"权重":300,"物品":"225010","数量":"1","绑定":0},
			{"权重":60,"物品":"230001","数量":"1","绑定":0},
			{"权重":15,"物品":"234201","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234202","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234203","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234204","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234205","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234206","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234207","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234208","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234209","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234210","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234211","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234212","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234213","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234214","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234215","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234216","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234217","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234218","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234219","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234220","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234221","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234222","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234223","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234224","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234225","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234226","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234227","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234228","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234229","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234230","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234231","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234232","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234233","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234234","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234235","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234236","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234237","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234238","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234239","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234240","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234241","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234242","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234243","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234244","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234245","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234246","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234247","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234248","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234249","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234250","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234251","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234252","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":15,"物品":"234253","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234401","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234402","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234403","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234404","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234405","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234406","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234407","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234408","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234409","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234410","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234411","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234412","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234413","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234414","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":30,"物品":"234415","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234416","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234417","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234418","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234419","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":20,"物品":"234420","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":10,"物品":"234902","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":25,"物品":"234903","数量":"1","绑定":0,"传闻":"RAS6001"},
			{"权重":4650,"物品":"0","数量":"0","绑定":0},
		),
	}

	groupInfo = {
		9001:(1101,1102,1103,1104,1105,),
		9002:(1001,1002,),
		9003:(1014,1015,1016,1017,1018,),
		9010:(2001,),
		9011:(2002,),
		9012:(2003,),
		9013:(2004,),
		9014:(2005,),
		9015:(2006,),
		9020:(2101,),
		9031:(2201,),
		9032:(2202,),
		9033:(2203,),
		9034:(2204,),
		9035:(2205,),
		9036:(2206,),
	}

	chatInfo = {
		1001:'''你挖到了飞升道者遗留的宝物''',
		1002:'''你挖到了飞升道者遗留的宝册，阅读后获得丰富经验''',
		1003:'''你挖到了前朝将军埋在地里的钱财''',
		1004:'''你挖到了被正道封印起来的邪魔''',
		1005:'''你挖塌了一伙妖魅修炼的洞府，吓得他们四处乱跑。''',
		1006:'''#C01$roleName#n在#C04$scene#n挖塌了一处洞府，其中的妖魅正四处乱跑！大家快去封妖！''',
		1007:'''你误触了一旁门女仙的禁咒，接下两场战斗会心绪不宁，难以发挥实力。''',
		1008:'''你挖到了集天地之气聚成的至宝''',
		1009:'''糟糕！你释放了被封印千年的凶恶#C04妖王#n，他将要危害人间！''',
		1010:'''#C01$roleName#n在#C09$scene#n释放了#C04妖王$monster#n！情况十分危急！大家快去剿灭它！''',
		1011:'''你惊醒了沉睡的#C04宝雀#n，他们正带着地底的宝物四处逃跑！''',
		1012:'''#C01$roleName#n在#C04$scene#n惊醒了宝雀，他们正带着宝物四处逃跑！大家快去夺宝啊！''',
		1013:'''哼，这算是小小的教训！''',
		1014:'''*3*可恶啊！！难道不是人类修仙就算是邪魔外道吗？！''',
		1015:'''*3*太强了，我们快跑！''',
		1016:'''*3*可谓正道，可谓邪道？无故袭击我们的难道就是正道？''',
		1017:'''*3*我根本没有害过任何人，只是不承认你们思想，这难道就算邪道？''',
		1018:'''*3*哎，天道好轮回，果然落得如斯下场。''',
		1101:'''你挖出了一个破烂的罐子，随手扔了。''',
		1102:'''你挖出了一双破烂的鞋子，随手扔了。''',
		1103:'''你挖出了一个颗发霉的苹果，随手扔了。''',
		1104:'''你挖出了一个新鲜的椰子，觉得很诧异，没敢吃，随手扔了。''',
		1105:'''你挖出了一件漂亮的童装，不适合穿，随手扔了。''',
		2000:'''何方愚昧，胆敢挡我去路？！\nQ封印妖物''',
		2001:'''妖物散发出强大的妖气，你修为不足以靠近\n（适合挑战该妖物的等级为#C04$monMinLv~$monMaxLv#n）''',
		2002:'''少侠，今天封印#C04已达上限#n，继续封印将没奖励，是否继续？\nQ取消\nQ战斗''',
		2003:'''今天的封印#C04达到上限#n，本次封印无任何奖励''',
		2004:'''该妖物已有其他修道者讨伐，请你封印其他吧''',
		2005:'''你队伍中有修道者能力不足，无法靠近妖物\n（适合挑战该妖物的等级为#C04$monMinLv~$monMaxLv#n）''',
		2006:'''手下败将！''',
		2007:'''不、不要杀我！''',
		2008:'''该妖物等级比你低，你无法获得任何奖励，也不消耗封妖次数''',
		3000:'''哎呀呀，被追杀了啊！\nQ杀妖夺宝''',
		3001:'''$SEX1,你今天已消灭的宝雀#C04已达上限#n，修道者切忌太过贪心。''',
		3002:'''$SEX1,你实力不足以战胜宝雀，还是以后再来吧！\n（超过#C0420#n级才能袭击宝雀）''',
		3003:'''该宝雀已被其他修道者抢先截杀，道友还是寻其他吧''',
		3004:'''宝雀的宝贝有限，还是不要与其他人同来截杀吧！\n#C04（宝雀只能一人战斗）#n''',
		3005:'''你今天已杀死#C04$killCnt#n只宝雀''',
		3006:'''唷，没什么就不要来打扰我跑路啊。''',
		3007:'''嘿嘿嘿，这宝物给你啦，不要再追我。''',
		4000:'''哈哈哈哈，就让你们作为本尊出世的祭品吧！\nQ封印妖王''',
		4001:'''妖王散发出强大的妖气，你修为不足以靠近\n（适合挑战该妖物的等级为#C04$monMinLv~$monMaxLv#n）''',
		4002:'''你队伍中有修道者能力不足，无法靠近妖王\n（适合挑战该妖物的等级为#C04$monMinLv~$monMaxLv#n）''',
		4003:'''妖王十分强大，请组织#C043#n人以上的队伍再进行挑战''',
		4004:'''妖王正被其他修道者讨伐中，请静观其变''',
		4005:'''哈哈哈，就凭你们就想战胜本尊？！''',
		4006:'''可恶……竟然趁本尊实力还未恢复之际……''',
		4007:'''#C04妖王$monster#n战胜了一群胆敢挑战他的仙侠，不可一世地叫嚣着。''',
		4008:'''你今天战胜妖王的次数已经达到上限，无法获得奖励''',
		5001:'''情况已经发生变化''',
		6001:'''#C01$roleName#n施展浑身解数，终于从妖王#C02$monster#n手中夺得$lnkProps''',
		6002:'''#C01$roleName#n略施小计，从#C02宝雀#n手中夺得$lnkProps''',
		6003:'''#C01$roleName#n在#L1<14,101>*[大衍藏宝秘册]*02#n寻宝中，幸运地获得了$lnkProps''',
	}

	branchInfo = {
		2011:(
			{"条件":1140,"脚本":"SF2001"},
			{"条件":1040,"脚本":"SF2002"},
			{"条件":1060,"脚本":"SF2003"},
			{"条件":2040,"脚本":"SF2004"},
			{"条件":2030,"脚本":"SF2005"},
		),
		2012:(
			{"条件":1140,"脚本":"TR2001"},
			{"条件":1040,"脚本":"TR2002"},
			{"条件":1060,"脚本":"TR2003"},
			{"条件":2040,"脚本":"TR2004"},
			{"条件":2030,"脚本":"TR2005"},
		),
		2021:(
			{"条件":1140,"脚本":"SF2101"},
			{"条件":1040,"脚本":"SF2101"},
			{"条件":1060,"脚本":"SF2101"},
			{"条件":2040,"脚本":"SF2101"},
			{"条件":2030,"脚本":"SF2101"},
		),
		2022:(
			{"条件":1140,"脚本":"R2101"},
			{"条件":1040,"脚本":"R2101"},
			{"条件":1060,"脚本":"R2101"},
			{"条件":2040,"脚本":"R2101"},
			{"条件":2030,"脚本":"R2101"},
		),
		2031:(
			{"条件":1140,"脚本":"SF2201"},
			{"条件":1040,"脚本":"SF2202"},
			{"条件":1060,"脚本":"SF2203"},
			{"条件":2040,"脚本":"SF2204"},
			{"条件":2030,"脚本":"SF2205"},
		),
		2032:(
			{"条件":1140,"脚本":"TR2201"},
			{"条件":1040,"脚本":"TR2202"},
			{"条件":1060,"脚本":"TR2203"},
			{"条件":2040,"脚本":"TR2204"},
			{"条件":2030,"脚本":"TR2205"},
		),
	}

	fightInfo = {
		1001:(
			{"类型":1,"名称":"邪魔","造型":"$npc","染色":"0,0,0,0,0","能力编号":"1001","数量":"1","技能":(1132,)},
			{"类型":0,"名称":"邪魔帮手","造型":"3008(0,1,0,0,0)","染色":"0,2,0,0,0","能力编号":"1002","数量":"1","技能":(5411,5412,)},
			{"类型":0,"名称":"邪魔帮手","造型":"3008(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"1003","数量":"1","技能":(5407,5408,)},
		),
		1002:(
			{"类型":1,"名称":"邪魔","造型":"$npc","染色":"0,0,0,0,0","能力编号":"1001","数量":"1","技能":(1212,)},
			{"类型":0,"名称":"邪魔帮凶","造型":"3006(0,1,0,0,0)","染色":"0,2,0,0,0","能力编号":"1002","数量":"1","技能":(5416,5417,)},
			{"类型":0,"名称":"邪魔帮凶","造型":"3006(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"1003","数量":"1","技能":(5403,5404,)},
		),
		2001:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2001","数量":"1","技能":(1511,1512,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3004(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"2003","数量":"2","技能":(5406,5407,5408,5409,5410,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4506(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2004","数量":"2","技能":(1112,1113,1312,),"站位":(4,5,)},
		),
		2002:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2002","数量":"1","技能":(1111,1133,1321,1323,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3007(0,1,0,0,0)","染色":"0,2,0,0,0","能力编号":"2004","数量":"2","技能":(5416,5417,5418,5419,5420,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4508(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2003","数量":"2","技能":(1531,),"站位":(4,5,)},
		),
		2003:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2001","数量":"1","技能":(1511,1512,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3008(0,1,0,0,0)","染色":"0,4,0,0,0","能力编号":"2003","数量":"2","技能":(5406,5407,5408,5409,5410,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4509(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2004","数量":"2","技能":(1122,1123,1312,),"站位":(4,5,)},
		),
		2004:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2002","数量":"1","技能":(1111,1133,1321,1323,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3006(0,1,0,0,0)","染色":"0,2,0,0,0","能力编号":"2004","数量":"2","技能":(5416,5417,5418,5419,5420,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4502(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2003","数量":"2","技能":(1212,),"站位":(4,5,)},
		),
		2005:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2001","数量":"1","技能":(1511,1512,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3005(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"2003","数量":"2","技能":(5406,5407,5408,5409,5410,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4504(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2004","数量":"2","技能":(1122,1123,1312,),"站位":(4,5,)},
		),
		2006:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"2002","数量":"1","技能":(1111,1133,1321,1323,),"站位":(1,)},
			{"类型":0,"名称":"妖兽","造型":"3006(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"2004","数量":"2","技能":(5416,5417,5418,5419,5420,),"站位":(2,3,)},
			{"类型":0,"名称":"妖道","造型":"4007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"2003","数量":"2","技能":(1531,),"站位":(4,5,)},
		),
		2101:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"3001","数量":"1","技能":(1323,)},
			{"类型":0,"名称":"宝物妖帮手","造型":"3005(0,1,0,0,0)","染色":"0,2,0,0,0","能力编号":"3002","数量":"1","技能":(5416,)},
			{"类型":0,"名称":"宝物妖帮手","造型":"3005(0,1,0,0,0)","染色":"0,3,0,0,0","能力编号":"3003","数量":"1","技能":(5407,)},
		),
		2201:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
		2202:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
		2203:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
		2204:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
		2205:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
		2206:(
			{"类型":1,"名称":"$npc","造型":"$npc","染色":"0,0,0,0,0","能力编号":"4001","数量":"1","技能":(1321,1322,1323,1512,1532,),"站位":(1,)},
			{"类型":0,"名称":"妖王帮手","造型":"1111(1,1,2,1,1)","染色":"0,0,0,0,0","能力编号":"4002","数量":"1","技能":(1111,1131,1112,1132,),"站位":(2,)},
			{"类型":0,"名称":"妖王帮手","造型":"1211(1,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4003","数量":"1","技能":(1211,1212,),"站位":(3,)},
			{"类型":0,"名称":"妖王帮手","造型":"1611(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4004","数量":"1","技能":(1621,1623,1631,1633,),"站位":(4,)},
			{"类型":0,"名称":"妖王帮手","造型":"1221(0,1,1,1,1)","染色":"0,0,0,0,0","能力编号":"4005","数量":"1","技能":(1123,1231,1232,1233,1421,1422,1423,),"站位":(5,)},
			{"类型":0,"名称":"妖王宠物","造型":"3007(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(7,)},
			{"类型":0,"名称":"妖王宠物","造型":"3008(0,1,0,0,0)","染色":"0,0,0,0,0","能力编号":"4006","数量":"1","技能":(5401,5406,5412,5417,),"站位":(8,)},
		),
	}

	ableInfo = {
		1001:{"等级":lambda LV:LV+1,"生命":"B*0.9","真气":"B*1","物理伤害":"B*0.81","法术伤害":"B*0.81","物理防御":"B*0.6","法术防御":"B*0.6","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		1002:{"等级":lambda LV:LV,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.65","法术伤害":"B*0.45","物理防御":"B*0.56","法术防御":"B*0.39","速度":"B*0.72","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		1003:{"等级":lambda LV:LV,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.45","法术伤害":"B*0.65","物理防御":"B*0.39","法术防御":"B*0.56","速度":"B*0.72","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		2001:{"等级":lambda FLV:FLV+1,"生命":"B*1.13","真气":"B*1","物理伤害":"B*0.56","法术伤害":"B*0.81","物理防御":"B*0.49","法术防御":"B*0.7","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		2002:{"等级":lambda FLV:FLV+1,"生命":"B*1.13","真气":"B*1","物理伤害":"B*0.81","法术伤害":"B*0.56","物理防御":"B*0.7","法术防御":"B*0.49","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		2003:{"等级":lambda FLV:FLV,"生命":"B*0.9","真气":"B*1","物理伤害":"B*0.45","法术伤害":"B*0.65","物理防御":"B*0.39","法术防御":"B*0.56","速度":"B*0.72","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		2004:{"等级":lambda FLV:FLV,"生命":"B*0.9","真气":"B*1","物理伤害":"B*0.65","法术伤害":"B*0.45","物理防御":"B*0.56","法术防御":"B*0.39","速度":"B*0.72","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		3001:{"等级":lambda LV:LV+1,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.81","法术伤害":"B*0.81","物理防御":"B*0.6","法术防御":"B*0.6","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		3002:{"等级":lambda LV:LV,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.57","法术伤害":"B*0.39","物理防御":"B*0.49","法术防御":"B*0.34","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		3003:{"等级":lambda LV:LV,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.39","法术伤害":"B*0.57","物理防御":"B*0.34","法术防御":"B*0.49","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		4001:{"等级":lambda FLV:FLV+1,"生命":"B*1.17","真气":"B*1","物理伤害":"B*1.26","法术伤害":"B*1.26","物理防御":"B*0.94","法术防御":"B*0.94","速度":"B*0.96","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0,"物理暴击":10,"法术暴击":10},
		4002:{"等级":lambda FLV:FLV,"生命":"B*1.02","真气":"B*1","物理伤害":"B*1.1","法术伤害":"B*0.76","物理防御":"B*0.84","法术防御":"B*0.59","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		4003:{"等级":lambda FLV:FLV,"生命":"B*1.02","真气":"B*1","物理伤害":"B*0.76","法术伤害":"B*1.1","物理防御":"B*0.59","法术防御":"B*0.84","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		4004:{"等级":lambda FLV:FLV,"生命":"B*1.02","真气":"B*1","物理伤害":"B*0.76","法术伤害":"B*0.76","物理防御":"B*0.72","法术防御":"B*0.72","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		4005:{"等级":lambda FLV:FLV,"生命":"B*1.02","真气":"B*1","物理伤害":"B*1.1","法术伤害":"B*1.1","物理防御":"B*0.72","法术防御":"B*0.72","速度":"B*0.85","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
		4006:{"等级":lambda FLV:FLV,"生命":"B*0.75","真气":"B*1","物理伤害":"B*0.81","法术伤害":"B*0.81","物理防御":"B*0.6","法术防御":"B*0.6","速度":"B*0.8","物理抗性":0,"法术抗性":0,"攻击修炼":0,"物防修炼":0,"法防修炼":0},
	}

	lineupInfo = {
	}

	sceneInfo = {
	}

	configInfo = {
		"刷新时间":"15*60",
	}

	monsterData = {
		1140:{"普通妖":9010,"宝物妖":9020,"妖王":9031,"等级范围":(15,30),"坐标":((15,44),(55,26),)},
		1040:{"普通妖":9011,"宝物妖":9020,"妖王":9032,"等级范围":(25,40),"坐标":((10,33),(49,3),(77,35),)},
		1060:{"普通妖":9012,"宝物妖":9020,"妖王":9033,"等级范围":(35,50),"坐标":((29,18),(51,33),(71,15),)},
		2040:{"普通妖":9013,"宝物妖":9020,"妖王":9034,"等级范围":(45,60),"坐标":((28,43),(59,21),(94,53),)},
		2030:{"普通妖":9014,"宝物妖":9020,"妖王":9035,"等级范围":(55,70),"坐标":((42,34),(39,90),(31,16),)},
	}

	monsterConfig = {
		"普通妖":{"数量上限":8,"刷出量":8,"奖励上限":10,"存在时间":0,"事件编号":2001},
		"宝物妖":{"数量上限":8,"刷出量":5,"奖励上限":3,"存在时间":30,"事件编号":2002},
		"妖王":{"数量上限":1,"刷出量":1,"奖励上限":1,"存在时间":30,"事件编号":2003},
	}

	propsEventRatio = {
		202006:(
			{"事件":1,"权重":100},
			{"事件":2,"权重":100},
			{"事件":3,"权重":100},
			{"事件":4,"权重":100},
			{"事件":5,"权重":100},
			{"事件":6,"权重":0},
		),
		202007:(
			{"事件":7,"权重":900},
			{"事件":8,"权重":60},
			{"事件":9,"权重":40},
		),
	}

	mapInfo = {
		0:{"小衍藏宝秘册":(1140,),"大衍藏宝秘册":(1140,)},
		25:{"小衍藏宝秘册":(1040,1140,),"大衍藏宝秘册":(1040,1140,)},
		35:{"小衍藏宝秘册":(1040,1140,1060,),"大衍藏宝秘册":(1040,1140,1060,)},
		45:{"小衍藏宝秘册":(1040,1140,1060,2040,),"大衍藏宝秘册":(1040,1140,1060,2040,)},
		55:{"小衍藏宝秘册":(1040,1140,1060,2040,2030,),"大衍藏宝秘册":(1040,1140,1060,2040,2030,)},
	}
#导表结束
		
	def init(self):
		#return # 暂时关闭
		self.autoRefreshNormalMonster()

	def transNpcInfo(self, npcIdx, info, who=None):
		if "$pos" in info["位置"]:
			sceneId = self.currentSceneId
			x, y = scene.randSpace(sceneId)
			info["位置"] = "%s,%s,%s,0" % (sceneId, x, y)
		elif "$mypos" in info["位置"]:
			info["位置"] = "%s,%s,%s,0" % (who.sceneId, who.x, who.y)
		elif "$kpos" in info["位置"]:
			sceneId = self.currentSceneId
			x,y = self.generateMonsterKindPos(sceneId)
			info["位置"] = "%s,%s,%s,0" % (sceneId, x, y)
		return customActivity.transNpcInfo(self, npcIdx, info, who)

	def newNpc(self, npcIdx, name, shape, who=None):
		'''创建Npc
		'''
		if hasattr(self, "currentMonsterType"):
			cls = getMonsterTypeClass(self.currentMonsterType)
			return cls(self)
		return customActivity.newNpc(self, npcIdx, name, shape, who)
	
	def getScriptHandler(self, script):
		m = re.match("FYB\((\S+),(\S+)\)", script)
		if m:
			branchIdx = int(m.group(1))
			flag = m.group(2)
			return doFYBranchScript, (branchIdx, flag)
		return customActivity.getScriptHandler(self, script)
	
	def validFight(self, who, npcObj, fightIdx):
		if hasattr(npcObj, "validFight"):
			return npcObj.validFight(who, fightIdx)
		return customActivity.validFight(self, who, npcObj, fightIdx)
	
	def getBranchCondition(self, who, npcObj, branchIdx, flag):
		if flag == "scene":
			return npcObj.sceneId
		return customActivity.getBranchCondition(self, who, npcObj, branchIdx, flag)
			
	def onWarWin(self, warObj, npcObj, w):
		customActivity.onWarWin(self, warObj, npcObj, w)
		if hasattr(npcObj, "onWarWin"):
			npcObj.onWarWin(warObj, w)
			
	def reward(self, who, rwdIdx, npcObj=None):
		if hasattr(npcObj, "isLimit") and npcObj.isLimit(who):
			if npcObj.monsterType == MONSTER_TYPE_NORMAL:
				message.tips(who, self.getText(2003))
			elif npcObj.monsterType == MONSTER_TYPE_KING:
				message.tips(who, self.getText(4008))
			return
		if hasattr(npcObj, "monsterType") and npcObj.monsterType == MONSTER_TYPE_NORMAL and who.level > npcObj.getMaxLevel():
			message.tips(who, self.getText(2008))
			return
		customActivity.reward(self, who, rwdIdx, npcObj)
		if hasattr(npcObj, "monsterType") and npcObj.monsterType == MONSTER_TYPE_NORMAL:
			perPoint = activity.center.getPerActPoint(4)
			who.addActPoint(perPoint)
	
	def getMonsterData(self, sceneId, key):
		return self.monsterData[sceneId][key]
	
	def getMonsterConfig(self, monsterType, key):
		monsterTypeName = getMonsterTypeName(monsterType)
		return self.monsterConfig[monsterTypeName][key]
	
	def refreshMonster(self, sceneId, monsterType):
		'''刷新妖怪
		'''
		if sceneId not in self.monsterData:
			sceneId = self.monsterData.keys()[0]

		if monsterType == MONSTER_TYPE_KING:
			for npcObj in self.getMonsterList(sceneId, monsterType):
				self.removeNpc(npcObj)
		
		self.tempSceneName = scene.getScene(sceneId).name
		monsterCnt = self.getMonsterConfig(monsterType, "刷出量")
		monsterCntMax = self.getMonsterConfig(monsterType, "数量上限")
		monsterList = self.getMonsterList(sceneId, monsterType)
		monsterCntHas = len(monsterList)
		monsterCnt = min(monsterCnt, monsterCntMax-monsterCntHas)
		if monsterCnt > 0:
			self.createMonster(sceneId, monsterType, monsterCnt)
		else:
			if monsterList:
				self.tempMonsterName = monsterList[0].name

	
	def createMonster(self, sceneId, monsterType, monsterCnt):
		'''创建妖怪
		'''
		self.currentMonsterType = monsterType
		self.currentSceneId = sceneId
		
		monsterTypeName = getMonsterTypeName(monsterType)
		npcIdx = self.getMonsterData(sceneId, monsterTypeName)
		typeFlag = "scene%d" % sceneId
		for i in xrange(monsterCnt):
			npcObj = self.addNpc(self.transIdxByGroup(npcIdx), typeFlag)
			npcObj.monsterType = monsterType
			npcObj.eventIdx = self.getMonsterConfig(monsterType, "事件编号")
			self.tempMonsterName = npcObj.name
			
		if hasattr(self, "currentMonsterType"):
			del self.currentMonsterType
		if hasattr(self, "currentSceneId"):
			del self.currentSceneId
			
	def getMonsterList(self, sceneId, monsterType):
		'''已存在的妖怪
		'''
		monsterList = []
		typeFlag = "scene%d" % sceneId
		for npcObj in self.getNpcListByType(typeFlag):
			if npcObj.monsterType != monsterType:
				continue
			monsterList.append(npcObj)
				
		return monsterList
	
	def triggerEvent(self, who, eventType):
		'''触发事件
		'''
		func = eventList[eventType]
		func(self, who)
		
	def onUseProps(self, who, propsNo):
		'''使用宝图
		'''
		ratioInfo = self.propsEventRatio.get(propsNo, None)
		if not ratioInfo:
			raise PlannerError,"使用藏宝秘册{}没有定义触发事件概率".format(propsNo)

		idx = chooseKey(ratioInfo, key="权重")
		eventType = ratioInfo[idx]["事件"]
		self.triggerEvent(who, eventType)
		
	def generateMapPos(self,ownerId,propsName):
		'''生成宝图坐标
		'''
		who=getRole(ownerId)
		level = who.level
		mapData = None
		for key in sorted(self.mapInfo.keys(),reverse=True):
			if level >= key:
				mapData = self.mapInfo.get(key)
				break
		if not mapData:
			raise PlannerError('没有小于{}等级的宝图坐标分配'.format(level))
		mapList = mapData.get(propsName)	
		if not mapList:
			raise PlannerError('没有道具【{}】的宝图坐标分配'.format(propsName))
		sceneId = mapList[rand(len(mapList))]
		x, y = scene.randSpace(sceneId)
		return sceneId, x, y
	
	def autoRefreshNormalMonster(self):
		'''自动刷新普通妖怪
		'''
		self.timerMgr.run(self.autoRefreshNormalMonster, eval(self.configInfo.get("刷新时间")), 0, "autoRefreshNormalMonster")

		for sceneId in self.monsterData.iterkeys():
			monsterCntHas = len(self.getMonsterList(sceneId, MONSTER_TYPE_NORMAL))
			monsterCnt = 7 - monsterCntHas
			if monsterCnt > 0:
				self.createMonster(sceneId, MONSTER_TYPE_NORMAL, monsterCnt)

	def getMonsterKindPos(self,sceneId):
		'''获得妖王坐标
		'''
		if not hasattr(self,"monsterKindPos"):
			self.monsterKindPos = {}
			return (0,0)
		if sceneId not in self.monsterKindPos:
			return (0,0)
		return self.monsterKindPos[sceneId]

	def generateMonsterKindPos(self,sceneId):
		'''生成妖王坐标
		'''
		lastPos = self.getMonsterKindPos(sceneId)
		posList = []
		for pos in self.getMonsterData(sceneId,"坐标"):
			if pos == lastPos:
				continue
			posList.append(pos)
		x,y = posList[rand(len(posList))]
		self.monsterKindPos[sceneId] = (x,y)
		return x,y

	def getBestScene(self,who):
		'''获得最适合的封妖场景
		'''
		level = who.level
		for sceneId,data in self.monsterData.iteritems():
			minLevel, maxLevel = data["等级范围"]
			if minLevel <= level <= maxLevel:
				return sceneId
		return sceneId
		# level = who.level
		# bestSceneId = 0
		# for sceneId,data in self.monsterData.iteritems():
		# 	minLevel,maxLevel = data["等级范围"]
		# 	if minLevel <= level <= maxLevel:
		# 		bestSceneId = sceneId
		# 		break
		# else:
		# 	if level > maxLevel:
		# 		bestSceneId = sceneId

		# return bestSceneId

	def transString(self, content, pid=0):
		'''转化字符串
		'''
		content = customActivity.transString(self, content, pid)
		who = None
		if pid:
			who = getRole(pid)
		if who:
			if "$scene" in content:
				content = content.replace("$scene", getattr(self, "tempSceneName", ""))
			if "$monster" in content:
				content = content.replace("$monster", getattr(self, "tempMonsterName", ""))
			if "$killCnt" in content:
				cnt = getKillCount(who,MONSTER_TYPE_TREASURE)
				content = content.replace("$killCnt", str(cnt))

		
		return content
	
	def getValueByVarName(self, varName, who):
		npcObj = self.getCurrentNpc()
		if npcObj:
			if varName == "FLV":
				return npcObj.getFightLevel(who)
			if varName == "RLV":
				return npcObj.getRewardLevel(who)
			if varName == "R":
				return getKillCount(who,npcObj.monsterType)+1#封妖可以组队，奖励和增加次数是分开的，先发奖励后增加次数，所以这里要+1
		return customActivity.getValueByVarName(self, varName, who)

	def testCmd(self, who, cmdIdx, *args):
		if cmdIdx == 100:
			txtList = []
			txtList.append("201-飞升者遗物事件")
			txtList.append("202-经验或金钱事件")
			txtList.append("203-弹对白事件")
			txtList.append("204-战邪魔事件")
			txtList.append("205-放普通妖事件")
			txtList.append("206-buff事件")
			txtList.append("207-至宝事件")
			txtList.append("208-放妖王事件")
			txtList.append("209-放宝物怪事件")
			txtList.append("220-清除所有怪物")
			txtList.append("301-查看各场景怪物数")
			txtList.append("401-使用宝图")
			message.dialog(who, "\n".join(txtList))
		elif 201 <= cmdIdx <= 209:
			eventType = cmdIdx % 100
			self.triggerEvent(who, eventType)
		elif cmdIdx == 220:
			typeList = self.npcList.keys()
			for typeFlag in typeList:
				self.removeNpcByTypeFlag(typeFlag)
		elif cmdIdx == 301:
			countList = {}
			for npcList in self.npcList.itervalues():
				for npcObj in npcList:
					sceneId = npcObj.sceneId
					if sceneId not in countList:
						countList[sceneId] = {}
						
					monsterType = npcObj.monsterType
					if monsterType not in countList[sceneId]:
						countList[sceneId][monsterType] = 0
						
					countList[sceneId][monsterType] += 1
			
			txtList = []	
			for sceneId, lst in countList.iteritems():
				txtList.append("%d:%s" % (sceneId, lst))
			
			if txtList:
				message.dialog(who, "\n".join(txtList))
			else:
				message.dialog(who, "没有任何npc")
		elif cmdIdx == 401:
			if len(args) != 1:
				message.tips(who, "指令参数：宝图道具编号")
				return
			propsNo = int(args[0])
			self.onUseProps(who, propsNo)
			
def getActivity():
	return activity.getActivity("fengyao")

#===============================================================================
# 开宝图事件
#===============================================================================
AUTO_USE_NEXT_TIME = 2 #自动使用下一个物品间隔时间
def doFightEndUseNextProps(who):
	gameObj = getActivity()
	if not gameObj:
		return
	doUseNextProps(gameObj, who, "doEvent4")

def doUseNextProps(gameObj, who, eventStr):
	if not who.propsCtn.hasPropsByNo(202006):
		return
	message.tips(who, "自动前往下一个藏宝秘册地点")
	gameObj.timerMgr.run(functor(doUseNextPropsCB, who.id), AUTO_USE_NEXT_TIME, 0, "%s%s"%(eventStr, who.id))
	
def doUseNextPropsCB(id):
	'''使用下一个小衍藏宝秘册物品
	'''
	who = getRole(id)
	if not who:
		return
	oScene = who.sceneObj
	if not oScene:
		return
	propsObj = None
	for propsObj in who.propsCtn.getPropsGroupByNo(202006):
		initPos = propsObj.fetch("pos", (0,0,0))
		if initPos[0] == oScene.id:
			break
	if propsObj:	#没有找到同一场景的
		propsObj.use(who)


def doEvent1(gameObj, who):
	'''	飞升者遗物事件
	'''
	gameObj.doScript(who, None, "TP1001,R1001")
	doUseNextProps(gameObj, who, "doEvent1")
	
	import listener
	listener.doListen("开宝图", who, eventName="遗物")
	
def doEvent2(gameObj, who):
	'''经验或金钱事件
	'''
	if rand(100) < 50:
		gameObj.doScript(who, None, "TP1002,R1002")
	else:
		gameObj.doScript(who, None, "TP1003,R1003")
	doUseNextProps(gameObj, who, "doEvent2")

	import listener
	listener.doListen("开宝图", who, eventName="奖励")

def doEvent3(gameObj, who):
	'''弹对白事件
	'''
	gameObj.doScript(who, None, "TP9001")
	doUseNextProps(gameObj, who, "doEvent3")

	import listener
	listener.doListen("开宝图", who, eventName="对白")

def doEvent4(gameObj, who):
	'''战邪魔事件
	'''
	npcObj = gameObj.createNpc(1001, who)
	npcObj.eventIdx = 1001
	gameObj.doScript(who, npcObj, "TP1004,F9002")
	who.addHandlerForWarEnd("fengyaodoEvent4", doFightEndUseNextProps)
	
	import listener
	listener.doListen("开宝图", who, eventName="战邪魔")

def doEvent5(gameObj, who):
	'''放普通妖事件
	'''
	gameObj.refreshMonster(who.sceneId, MONSTER_TYPE_NORMAL)
	gameObj.doScript(who, None, "TP1005,SM1006")
	doUseNextProps(gameObj, who, "doEvent5")
	
	import listener
	listener.doListen("开宝图", who, eventName="放妖")

def doEvent6(gameObj, who):
	'''buff事件
	'''
	#toDo 加buff
	gameObj.doScript(who, None, "TP1007")
	doUseNextProps(gameObj, who, "doEvent6")
	
	import listener
	listener.doListen("开宝图", who, eventName="buff")

def doEvent7(gameObj, who):
	'''至宝事件
	'''
	gameObj.doScript(who, None, "TP1008,R1005")
	
	import listener
	listener.doListen("开宝图", who, eventName="至宝")

def doEvent8(gameObj, who):
	'''放妖王事件
	'''
	gameObj.refreshMonster(who.sceneId, MONSTER_TYPE_KING)
	gameObj.doScript(who, None, "TP1009,SM1010")
	
	import listener
	listener.doListen("开宝图", who, eventName="放妖王")

def doEvent9(gameObj, who):
	'''放宝物怪事件
	'''
	gameObj.refreshMonster(who.sceneId, MONSTER_TYPE_TREASURE)
	gameObj.doScript(who, None, "TP1011,SM1012")
	
	import listener
	listener.doListen("开宝图", who, eventName="放宝物怪")


eventList = {
	1: doEvent1,
	2: doEvent2,
	3: doEvent3,
	4: doEvent4,
	5: doEvent5,
	6: doEvent6,
	7: doEvent7,
	8: doEvent8,
	9: doEvent9,
}

# eventRatio = {
# 	202006: {1:1, 2:1, 3:1, 4:1, 5:1, 6:1,},
# 	202007: {7:1, 8:1, 9:1,},
# }

#===============================================================================
# 妖怪相关
#===============================================================================
MONSTER_TYPE_NORMAL = 0 # 普通妖
MONSTER_TYPE_TREASURE = 1 # 宝物妖
MONSTER_TYPE_KING = 2 # 妖王	

class NormalMonster(activity.object.Npc):
	'''普通妖
	'''
	monsterType = MONSTER_TYPE_NORMAL
	
	def __init__(self, gameObj):
		activity.object.Npc.__init__(self, gameObj)
		self.timerMgr = timer.cTimerMng()
		
		timeLimit = self.getTimeLimit()
		if timeLimit:
			self.timerMgr.run(self.timeOut, timeLimit, 0, "timeOut")
		
	def validFight(self, who, fightIdx):
		minLevel = self.getMinLevel()
		if who.level < minLevel:
			self.game.doScript(who, self, "D2001")
			return 0
		
		if who.inTeam():
			teamObj = who.getTeamObj()
			if not teamObj.isLeader(who.id):
				return 0
			for pid in teamObj.getInTeamList():
				obj = getRole(pid)
				if obj and obj.level < minLevel:
					self.game.doScript(who, self, "D2005")
					return 0

		if self.inWar():
			self.game.doScript(who, self, "D2004")
			return 0
		
		# if self.isLimit(who):
		# 	res = message.confirmBox(who, self.game.getText(2002, who.id))
		# 	if res != 2:
		# 		return 0
			# if not who.day.fetch("fengyaoTips"):
			# 	res = message.selectBox(who, self.game.getText(2002, who.id), self)
			# 	if res != 2:
			# 		return 0
			# 	who.day.set("fengyaoTips", 1)

		return 1

	#override
	def say(self, who, content):
		if "$monMinLv" in content or "$monMaxLv" in content:
			minLevel, maxLevel = self.game.getMonsterData(self.sceneId, "等级范围")
			content = content.replace("$monMinLv", "{}".format(minLevel))
			content = content.replace("$monMaxLv", "{}".format(maxLevel))
		activity.object.Npc.say(self, who, content)

	
	def getMinLevel(self):
		minLevel, maxLevel = self.game.getMonsterData(self.sceneId, "等级范围")
		return minLevel
	
	def getMaxLevel(self):
		minLevel, maxLevel = self.game.getMonsterData(self.sceneId, "等级范围")
		return maxLevel

	def getFightLevel(self, who):
		'''战斗相关等级
		'''
		minLevel, maxLevel = self.game.getMonsterData(self.sceneId, "等级范围")
		if who.isSingle():
			level = who.level
		else:
			level = who.getTeamObj().getAvgLV()
		return min(level, maxLevel)
	
	def getRewardLevel(self, who):
		'''奖励相关等级
		'''
		minLevel, maxLevel = self.game.getMonsterData(self.sceneId, "等级范围")
		return min(who.level, maxLevel)
	
	def getRewardLimit(self):
		return self.game.getMonsterConfig(self.monsterType, "奖励上限")
	
	def getTimeLimit(self):
		'''时间限制
		'''
		return self.game.getMonsterConfig(self.monsterType, "存在时间") * 60
	
	def timeOut(self):
		self.game.removeNpc(self)
	
	def isLimit(self, who):
		'''是否达到上限
		'''
		return getKillCount(who,self.monsterType) >= self.getRewardLimit()
	
	def isWanEndDel(self, warObj):
		'''战斗结束，玩家胜利才删除
		'''
		if warObj.winner == TEAM_SIDE_1:
			return True
		return False 

	def onWarEnd(self, warObj):
		activity.object.Npc.onWarEnd(self, warObj)
		if self.isWanEndDel(warObj):
			self.game.removeNpc(self)
	
	def doWarWinScript(self, who):
		pass

	def onWarWin(self, warObj, w):
		who = getRole(w.id)
		if not who:
			return
		if who.isSingle():
			pidList = [who.id]
		else:
			pidList = who.getTeamObj().getInTeamList()
			
		for pid in pidList:
			obj = getRole(pid)
			if obj:
				if obj.level > self.getMaxLevel():
					continue
				addKillCount(obj,self.monsterType,1)
				self.doWarWinScript(obj)
	
class TreasureMonster(NormalMonster):
	'''宝物妖
	'''
	monsterType = MONSTER_TYPE_TREASURE

	def validFight(self, who, fightIdx):
		if who.level < self.getMinLevel():
			self.game.doScript(who, self, "D3002")
			return 0
		if not who.isSingle():
			self.game.doScript(who, self, "D3004")
			return 0
		if self.inWar():
			self.game.doScript(who, self, "D3003")
			return 0
		
		if self.isLimit(who):
			self.game.doScript(who, self, "D3001")
			return 0

		return 1
	
	def getMinLevel(self):
		return 20
	
	def getFightLevel(self, who):
		return who.level

	def doWarWinScript(self, who):
		self.game.doScript(who, self, "TP3005")
	
class KingMonster(NormalMonster):
	'''妖王
	'''
	monsterType = MONSTER_TYPE_KING

	def validFight(self, who, fightIdx):
		minLevel = self.getMinLevel()
		if who.level < minLevel:
			self.game.doScript(who, self, "D4001")
			return 0
		
		if not who.validInTeamSize(3):
			self.game.doScript(who, self, "D4003")
			return 0
		
		teamObj = who.getTeamObj()
		if not teamObj.isLeader(who.id):
			return 0
		for pid in teamObj.getInTeamList():
			obj = getRole(pid)
			if obj and obj.level < minLevel:
				self.game.doScript(who, self, "D4002")
				return 0

		if self.inWar():
			self.game.doScript(who, self, "D4004")
			return 0

		return 1

	def isWanEndDel(self, warObj):
		'''妖王不能二次挑战
		'''
		return True

monsterType2Class = {
	MONSTER_TYPE_NORMAL: NormalMonster,
	MONSTER_TYPE_TREASURE: TreasureMonster,
	MONSTER_TYPE_KING: KingMonster,
}

monsterType2Name = {
	MONSTER_TYPE_NORMAL: "普通妖",
	MONSTER_TYPE_TREASURE: "宝物妖",
	MONSTER_TYPE_KING: "妖王",
}

def getMonsterTypeClass(monsterType):
	return monsterType2Class[monsterType]

def getMonsterTypeName(monsterType):
	return monsterType2Name[monsterType]

def doFYBranchScript(gameObj, who, npcObj, branchIdx, flag):
	'''自定义特殊分支脚本
	'''	
	if npcObj.isLimit(who):
		content = gameObj.getText(2002, who.id)
		if npcObj:
			npcId = npcObj.id
		else:
			npcId = 0
		message.confirmBoxNew(who, functor(responseFY, npcId, branchIdx, flag), content)
		return
	gameObj.branchScript(who, npcObj, branchIdx, flag)
	
def responseFY(who, yes, npcId, branchIdx, flag):
	if not yes:
		return
	gameObj = getActivity()
	if not gameObj:
		return
	
	npcObj = None
	if npcId:
		npcObj = getNpc(npcId)
		if not npcObj:
			return
	
	gameObj.branchScript(who, npcObj, branchIdx, flag)

def getKillCount(who,monsterType):
	flag = "fengyaoKillCnt%d" % monsterType
	return who.day.fetch(flag)

def addKillCount(who,monsterType,val):
	flag = "fengyaoKillCnt%d" % monsterType
	return who.day.add(flag,val)

import types
from common import *
from war.defines import *
import scene
import message
import timer
import buff
import activity.center